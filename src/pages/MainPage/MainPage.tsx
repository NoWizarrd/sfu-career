import { Link } from "react-router-dom";
import styles from "./MainPage.module.scss";
import { useEffect, useState } from "react";
import { useNavigate } from "react-router-dom"
import checkAuth from "../../scripts/checkAuth";
import Loader from "../../components/loader/Loader";


export default function MainPage() {
    const navigate = useNavigate();
    const [loading, setLoading] = useState(true);

    useEffect(() => {
        const authStatus = checkAuth();
        if (authStatus) {
            if (authStatus === 'student') {
                navigate('/search/vacancy');
            } else if (authStatus === 'company') {
                navigate('/search/student');
            }
        } else {
            setLoading(false); 
        }
    }, [navigate]);

    if (loading) {
        return <Loader/>;
    }

    return (
        <div className={styles.main}>
            <h1>
                –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –≤–∞—Å –Ω–∞ SFU–ö–∞—Ä—å–µ—Ä–∞ ‚Äì –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–æ–π –æ–Ω–ª–∞–π–Ω-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ,
                –ø–æ—Å–≤—è—â–µ–Ω–Ω–æ–π –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—é —Å—Ç—É–¥–µ–Ω—á–µ—Å–∫–∏—Ö —Ç–∞–ª–∞–Ω—Ç–æ–≤ –∏ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–π,
                –∏—â—É—â–∏—Ö –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω—ã—Ö —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤.
            </h1>
            <div className={styles.blocks}>
                <div className={styles.info}>
                    <h2>üåê –ö–æ–º–ø–∞–Ω–∏—è–º</h2>
                    <p>
                        –ù–∞—Ö–æ–¥–∏—Ç–µ —Ç–∞–ª–∞–Ω—Ç—ã, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –≤–∞—à–∏–º –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—è–º.
                        SFU–ö–∞—Ä—å–µ—Ä–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ
                        —Å—Ç—É–¥–µ–Ω—Ç–æ–≤, –∏—Ö –æ–ø—ã—Ç—É –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º —Ü–µ–ª—è–º.
                    </p>
                </div>
                <div className={styles.info}>
                    <h2>üéì –°—Ç—É–¥–µ–Ω—Ç–∞–º</h2>
                    <p>
                        –û—Ç–º–µ—á–∞–π—Ç–µ —Å–≤–æ–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ
                        —Å–≤–æ–∏—Ö –Ω–∞–≤—ã–∫–∞—Ö –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–º —Ä–æ—Å—Ç–µ. SFU–ö–∞—Ä—å–µ—Ä–∞
                        —Å–æ–∑–¥–∞–Ω –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –≤—ã —Å–º–æ–≥–ª–∏ –≤—ã–¥–µ–ª–∏—Ç—å—Å—è —Å—Ä–µ–¥–∏ –∫–æ–ª–ª–µ–≥
                        –∏ –ø—Ä–∏–≤–ª–µ—á—å –≤–Ω–∏–º–∞–Ω–∏–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª–µ–π.
                    </p>
                </div>
                <div className={styles.info}>
                    <h2>ü§ù –£–¥–æ–±—Å—Ç–≤–æ</h2>
                    <p>
                        –ú—ã —Å—Ç—Ä–µ–º–∏–º—Å—è –∫ —Å–æ–∑–¥–∞–Ω–∏—é –ø—Ä–æ—Å—Ç–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É
                        —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏ –∏ –∫–æ–º–ø–∞–Ω–∏—è–º–∏. SFU–ö–∞—Ä—å–µ—Ä–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø—Ä—è–º—É—é
                        —Å–≤—è–∑—å, –∞ —Ç–∞–∫–∂–µ –æ–±–º–µ–Ω –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –±–µ–∑ –ª–∏—à–Ω–∏—Ö —Å–ª–æ–∂–Ω–æ—Å—Ç–µ–π.
                    </p>
                </div>
            </div>
            <Link to={"/login"}>
                <button className={styles.enterBtn}>–ê–≤—Ç–æ—Ä–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
            </Link>
        </div>
    );
}
